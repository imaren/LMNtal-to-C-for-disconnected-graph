// 履歴が引き継がれた方が都合がよい例
// 最大公約数をそれぞれの集合の要素について求める
// あとから集合を併合しても、最大公約数同士の最大公約数を求めればよい

init. 
 
init :- 
    n(6,!A), n(21,!A), n(27,!A),
    n(9,!B), n(30,!B), n(33,!B),
    unify(!A,!B).

n(I,!H) \:- uniq(I,!H) | gcd(I,!H).

gcd(0,!H) :- .
gcd(I,!H) \ gcd(J,!H) :-0<I, K = J-I, J>=I | gcd(K,!H).

unify(!A,!B) :- !A >< !B.